é«˜çº§æœç´¢
========

ä½¿ç”¨ Zammad, æ‚¨å¯ä»¥å°†æœç´¢é™åˆ¶åœ¨ç‰¹å®šä¿¡æ¯ä¸Š. è¿™æ ·, æ‚¨å°±å¯ä»¥æŸ¥æ‰¾å…·æœ‰ç‰¹å®šå…³é”®å­—å’ŒçŠ¶æ€çš„å·¥å•. 
ä¸‹é¢çš„ä¿¡æ¯å°†å¸®åŠ©æ‚¨æé«˜æœç´¢ç»“æœ.

ä¾‹å¦‚, æ‚¨å¯ä»¥ä½¿ç”¨ ``customer.attribute`` æœç´¢ç‰¹å®šå®¢æˆ·::

   customer.firstname: ä¸‰

æˆ–::

   customer.lastname: å¼ 


ä½ å¯ä»¥ä½¿ç”¨å¸¦æœ‰ ``()`` å’Œ ``AND`` / ``OR`` ç»„åˆæ›´å¤æ‚çš„æ¡ä»¶è¿›è¡Œæœç´¢, ä¾‹å¦‚::

   state.name: open AND (article.from:me OR article.from:somebody)

.. hint::
   
   ä¸Šé¢çš„ ``open`` ä¸èƒ½ä½¿ä¸­æ–‡çš„ **å¤„ç†ä¸­**, åŒæ ·æœç´¢ **å·²å…³é—­** çš„å·¥å•æ˜¯ä½¿ç”¨ ``closed``.

ä¾‹å¦‚::

   state.name: closed AND (article.from:me OR article.from:somebody)

.. note:: **ğŸ¤“ Zammad åœ¨ 4.0 ä¸­å¯¹æœç´¢è¯­æ³•ä½œäº†é‡å¤§å˜åŠ¨**

   åœ¨ Zammad 3.6 ä»¥å‰çš„ç‰ˆæœ¬, ä»…èƒ½æœç´¢ä»¥ä¸‹çš„å…³é”®è¯: 

      * group
      * priority
      * state
      * organization

   åœ¨ Zammad 4.0 ä¹‹å, å…³é”®è¯éœ€è¦å…·ä½“åˆ°æŸä¸ªå¯¹è±¡. è¿™æ„å‘³ç€éœ€è¦åœ¨å…³é”®è¯åé¢
   æ·»åŠ  ``.name`` (ä¾‹å¦‚ ``group.name`` æˆ– ``priority.name``) 
   æ¥ç¼©å°æœç´¢çš„èŒƒå›´.


å¯ç”¨çš„æœç´¢å…³é”®è¯
--------------------

.. hint:: 

   å¦‚æœéœ€è¦æ‰€æœ‰çš„æœç´¢å…³é”®è¯, è¯·å‚è€ƒ 
   `Zammad ç³»ç»Ÿç®¡ç†å‘˜æ‰‹å†Œ 
   <https://docs.zammad.org/en/latest/install/elasticsearch/indexed-attributes.html>`_ 


.. |br| raw:: html

   <br />

.. csv-table:: å±æ€§åŠå…¶ç”¨æ³•
   :header: "å…³é”®è¯", "å€¼", "ä¾‹å­", "æè¿°"
   :widths: 10, 10, 10, 20

   "å·¥å•å·", "1118566", "number:1118566 |br|\ number:11185*", "ç›´æ¥æœç´¢å·¥å•å·, æ”¯æŒé€šé…ç¬¦."
   "ä¸»é¢˜", "some title", "title:""some title"" |br|\ title:Printer |br|\ title: ""some ti*""", "å¦‚æœæœç´¢å…³é”®è¯ä¸­é—´å«ç”¨ç©ºæ ¼å­—ç¬¦, è¯·ä½¿ç”¨åŒå¼•å·, è¿™æ · Zammad ä¼šæŠŠå¼•å·å†…çš„å†…å®¹è§†ä½œä¸€ä¸ªå…³å»ºè¯è¿›è¡Œæœç´¢. å•ä¸€å…³é”®è¯æ˜¯ä¸éœ€è¦å¼•å·çš„."
   "å·¥å•åˆ›å»ºæ—¶é—´", "2018-11-18", "created_at:2023-03-14 |br|\ created_at:[2023-03-14 TO 2023-10-24] |br|\ created_at:>now-1h", "ä½ å¯ä»¥ä½¿ç”¨ç®€å•çš„æ—¥æœŸ, æ—¥æœŸèŒƒå›´æˆ–è€… >now-xhã€‚è¯·æ³¨æ„, æ—¥æœŸæ ¼å¼åº”ä¸º YYYY-MM-DD ."
   "å·¥å•çŠ¶æ€", "new |br|\ open |br|\ closed", "state.name: new |br|\ state.name:new OR open", "ä½ å¯ä»¥ä¸ºç‰¹å®šçš„å·¥å•çŠ¶æ€è¿›è¡Œè¿‡æ»¤ (ç”šè‡³å¯ä»¥ä½¿ç”¨ OR è¿›è¡Œç»„åˆè¿‡æ»¤). è¯·æ³¨æ„, éåœ¨ä½ çš„å®ä¾‹ä¸­å®šä¹‰äº†è‡ªå®šä¹‰å·¥å•çŠ¶æ€, å¦åˆ™éœ€è¦ä½¿ç”¨è‹±æ–‡å‘½åçš„çŠ¶æ€è¿›è¡Œè¿‡æ»¤."
   "æ¶ˆæ¯æ•°é‡", "5 |br|\ [5 TO 10] |br|\ [5 TO \*] |br|\ [\* TO 5]", "article_count:5 |br|\ article_count: [5 TO 10] |br|\ article_count:[5 TO \*] |br|\ article_count:[\* TO 5]", "ä½ å¯ä»¥æœç´¢å…·æœ‰ç‰¹å®šæ•°é‡æ–‡ç« çš„å·¥å• (ç”šè‡³å¯ä»¥æœç´¢æ‰€æœ‰æ–‡ç« æ•°é‡å¤§äº 5 çš„å·¥å•æˆ–è€…æ–‡ç« æ•°é‡ä¸è¶…è¿‡ 5 çš„å·¥å•, å¦‚æœéœ€è¦çš„è¯)."
   "æ¶ˆæ¯æ¥è‡ª", "\*bob\*", "article.from:\*bob\*", "æ˜¾ç¤ºæ‰€æœ‰å·¥å•æ¶ˆæ¯æ¥æºåŒ…å«æœ‰""Bob""çš„å†…å®¹."
   "æ¶ˆæ¯æ­£æ–‡", "heat |br|\ heat~ |br|\ /joh?n(ath[oa]n)/", "article.body:heat |br|\ article.body:heat~ |br|\ articlebody:/joh?n(ath[oa]n)/", "ç¬¬ä¸€ä¸ªä¾‹å­å±•ç¤ºäº†åŒ…å«å•è¯ ""heat"" çš„æ‰€æœ‰å·¥å• - ä½ è¿˜å¯ä»¥ä½¿ç”¨æ¨¡ç³Šæ“ä½œç¬¦ ""~"" æ¥æœç´¢ç±»ä¼¼çš„å•è¯, ä¾‹å¦‚ ""head"". Zammad è¿˜å…è®¸ä½ åœ¨å…è®¸ä½¿ç”¨å±æ€§çš„åœ°æ–¹ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼, ä¾‹å¦‚ ""/joh?n(ath[oa]n)/"" åŒ¹é…å­—ç¬¦ä¸²ä¸­åŒ…å« ""john"" æˆ– ""johnathan"" çš„å†…å®¹, ""(ath[oa]n)"" è¡¨ç¤º ""athan"" æˆ– ""athon"", å…¶ä¸­ [] è¡¨ç¤ºåŒ¹é…ä¸­æ‹¬å·å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦."
   
.. hint:: **å¤æ‚çš„æœç´¢ç»„åˆ**

  ä½ å¯ä»¥ä½¿ç”¨ ``AND``, ``OR`` å’Œ ``TO`` ç»„åˆæœç´¢å…³é”®è¯ç»„åˆè¿›ä¸€æ­¥ç¼©å°è¿”å›çš„ç»“æœ,
  å¦‚æœéœ€è¦, è¿˜å¯ä»¥ç”¨æ‹¬å· ``()`` å°†å¤æ‚æœç´¢çš„å…³é”®è¯åˆ†å¼€. è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨æ›´å¤šçš„ (AND/OR)
  å®ç°æ›´å¤šçš„æœç´¢æ¡ä»¶. å¦‚æœä½ æƒ³æ’åºæŸäº›æœç´¢ç»“æœ, ä½ å¯ä»¥ä½¿ç”¨å¦å®š ``!``.
  ä¸‹é¢æä¾›ä¸€äº›æœç´¢ç»„åˆèŒƒä¾‹:
  
  .. csv-table:: å¤æ‚çš„æœç´¢ç»„åˆç¤ºä¾‹
   :header: "æœç´¢ç»„åˆ", "æè¿°"
   :widths: 10, 20
   
   "state.name:(closed OR open) AND (priority.name:""2 normal"" OR tags:åé¦ˆ)", "æ˜¾ç¤ºæ‰€æœ‰çŠ¶æ€ä¸º closed æˆ– open, å¹¶ä¸”ä¼˜å…ˆä¸º ""2 normal"" æˆ–æ ‡è®°ä¸º ""åé¦ˆ"" çš„å·¥å•."
   "state.name:(closed OR open) AND (priority.name:""2 normal"" OR tags:åé¦ˆ) AND !(*Zammad*)", "è¿™ä¸ªç»“æœä¸ä¸Šé¢æœ‰äº›ç›¸ä¼¼, ä½†ä»ç»“æœä¸­æ’åºäº†å¸¦æœ‰ ""Zammad"" å•è¯çš„å·¥å•."
   "owner.email:bob@example.net AND state.name:(open OR new)", "æ˜¾ç¤ºæ‰€ä»¥æ¥è‡ªäº bob@example.net , å¹¶ä¸”çŠ¶æ€ä¸ºå¤„ç†ä¸­ open æˆ–æ–°å»º new çš„å·¥å•."
   "state.name:pending* AND article_count:[1 TO 5]", "æ˜¾ç¤ºæ‰€æœ‰ä»»ä½•æŒ‚èµ· pending çŠ¶æ€ä¸”æ¶ˆæ¯æ•°ä¸º1åˆ°5çš„æ‰€æœ‰å†…å®¹."

å·¥å•å±æ€§åŠæ•°æ®ç±»å‹
-------------------------------------

ä¸‹é¢æ˜¯ä¸€äº›ä¸å·¥å•æˆ–æ˜¯æ¶ˆæ¯æœ‰å…³çš„é‡è¦å±æ€§.

ä¸å·¥å•æœ‰å…³çš„å…³é”®è¯
^^^^^^^^^^^^^^^^^^

   * number: å­—ç¬¦ä¸²
   * title: å­—ç¬¦ä¸²
   * group: å¯¹è±¡ (group.name, ...)
   * priority: å¯¹è±¡ (priority.name, ...)
   * state: å¯¹è±¡ (state.name, ...)
   * organization: å¯¹è±¡ (organization.name, ...)
   * owner: å¯¹è±¡ (owner.firstname, owner.lastname, owner.email, ...)
   * customer: å¯¹è±¡ 
     (customer.firstname, customer.lastname, customer.email, ...)
   * first_response_at: æ—¶é—´æˆ³
   * first_response_in_min: åˆ†é’Ÿ (å·¥ä½œæ—¶é—´å†…é¦–æ¬¡å“åº”çš„æ—¶é—´)
   * close_at: æ—¶é—´æˆ³
   * close_in_min: æ•´æ•° (å·¥ä½œæ—¶é—´å†…å¤šå°‘åˆ†é’Ÿä¹‹å‰å…³é—­çš„å·¥å•)
   * last_contact_at: æ—¶é—´æˆ³ (å®¢æˆ·æˆ–æœåŠ¡äººå‘˜æœ€åä¸€æ¬¡è”ç³»çš„æ—¶é—´)
   * last_contact_agent_at: æ—¶é—´æˆ³ (æœåŠ¡äººå‘˜æœ€åä¸€æ¬¡è”ç³»çš„æ—¶é—´)
   * last_contact_customer_at: æ—¶é—´æˆ³ (å®¢æˆ·æœ€åä¸€æ¬¡è”ç³»çš„æ—¶é—´)
   * create_article_type: å­—ç¬¦ä¸² (email|phone|web|...)
   * create_article_sender: å­—ç¬¦ä¸² (Customer|Agent|System)
   * article_count: æ•´æ•°
   * escalation_at: æ—¶é—´æˆ³
   * pending_time: æ—¶é—´æˆ³

ä¸æ¶ˆæ¯æœ‰å…³çš„å…³é”®è¯
^^^^^^^^^^^^^^^^^^

   * article.from: å­—ç¬¦ä¸²
   * article.to: å­—ç¬¦ä¸²
   * article.cc: å­—ç¬¦ä¸²
   * article.subject: å­—ç¬¦ä¸²
   * article.body: å­—ç¬¦ä¸²
   * article.attachment.title: å­—ç¬¦ä¸² (é™„ä»¶çš„æ–‡ä»¶å)
   * article.attachment.content: å­—ç¬¦ä¸² (é™„ä»¶å†…å®¹)
   * article.attachment.content_type: å­—ç¬¦ä¸² (æ–‡ä»¶ç±»å‹, ä¾‹å¦‚ PDF)
